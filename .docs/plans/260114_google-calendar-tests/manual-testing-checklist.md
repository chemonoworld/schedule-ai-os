# Google Calendar 수동 테스트 체크리스트

## 개요
- **목적**: Desktop 앱 + Server를 직접 실행하여 Google Calendar 연동 기능 검증
- **선행 조건**:
  - Google Cloud Console에서 OAuth 설정 완료
  - 서버 `.env`에 `GOOGLE_CLIENT_ID`, `GOOGLE_CLIENT_SECRET` 설정

## 사전 준비

### 환경 설정
- [ ] `schedule-ai-server/.env` 파일 설정
  ```env
  GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
  GOOGLE_CLIENT_SECRET=your-client-secret
  GOOGLE_REDIRECT_URI=scheduleai://oauth/callback
  ```
- [ ] `schedule-ai-tauri/.env` 파일 설정
  ```env
  VITE_API_BASE_URL=http://localhost:3000
  ```

### 서버 실행
```bash
cd schedule-ai-server && cargo run
```
- [ ] 서버가 `http://localhost:3000`에서 정상 실행되는지 확인

### Desktop 앱 실행
```bash
cd schedule-ai-tauri && pnpm tauri dev
```
- [ ] 앱이 정상 실행되는지 확인

---

## 1. OAuth 연동 테스트

### 1.1 연결 상태 확인 (미연결)
- [ ] Settings 탭으로 이동
- [ ] Calendar 섹션에 "Google 계정 연결" 버튼이 보이는지 확인
- [ ] 연결된 이메일이 표시되지 않는지 확인

### 1.2 Google 계정 연결
- [ ] "Google 계정 연결" 버튼 클릭
- [ ] 기본 브라우저에서 Google 로그인 페이지가 열리는지 확인
- [ ] Google 계정으로 로그인
- [ ] 권한 요청 화면에서 "허용" 클릭
- [ ] Desktop 앱으로 자동 포커스 전환되는지 확인
- [ ] Settings에 연결된 이메일이 표시되는지 확인
- [ ] 캘린더 목록이 로드되는지 확인

### 1.3 연결 상태 확인 (연결됨)
- [ ] 앱 재시작 후에도 연결 상태가 유지되는지 확인
- [ ] Settings에 이전에 연결된 이메일이 표시되는지 확인

### 1.4 연결 해제
- [ ] Settings에서 "연결 해제" 버튼 클릭
- [ ] 확인 다이얼로그가 표시되는지 확인
- [ ] 연결 해제 후 "Google 계정 연결" 버튼으로 돌아가는지 확인
- [ ] 캘린더 목록이 사라지는지 확인

---

## 2. 캘린더 목록 관리 테스트

### 2.1 캘린더 목록 조회
- [ ] Google 계정 연결 후 캘린더 목록이 표시되는지 확인
- [ ] Primary 캘린더에 "Primary" 뱃지가 표시되는지 확인
- [ ] 각 캘린더의 색상이 올바르게 표시되는지 확인

### 2.2 캘린더 선택/해제
- [ ] 체크박스를 클릭하여 캘린더를 선택할 수 있는지 확인
- [ ] 체크박스를 클릭하여 캘린더를 해제할 수 있는지 확인
- [ ] 선택 상태가 서버에 저장되는지 확인 (앱 재시작 후 유지)

---

## 3. 이벤트 조회 테스트

### 3.1 Today 탭 이벤트 표시
- [ ] Today 탭으로 이동
- [ ] 타임라인에 오늘의 캘린더 이벤트가 표시되는지 확인
- [ ] 이벤트 시간이 올바르게 표시되는지 확인
- [ ] 이벤트 제목이 올바르게 표시되는지 확인
- [ ] 이벤트 위치(있는 경우)가 표시되는지 확인

### 3.2 종일 이벤트
- [ ] 종일 이벤트가 "종일" 표시와 함께 나타나는지 확인
- [ ] 종일 이벤트가 타임라인 상단에 위치하는지 확인

### 3.3 이벤트 정렬
- [ ] 이벤트가 시간순으로 정렬되는지 확인
- [ ] 태스크와 이벤트가 함께 시간순으로 정렬되는지 확인

### 3.4 이벤트 상세 팝업
- [ ] 이벤트 카드 클릭 시 상세 팝업이 표시되는지 확인
- [ ] 팝업에 제목, 시간, 설명, 위치가 표시되는지 확인
- [ ] "Google Calendar에서 열기" 링크가 동작하는지 확인
- [ ] 팝업 외부 클릭 시 팝업이 닫히는지 확인

---

## 4. Progress 탭 Heatmap 테스트

### 4.1 이벤트 카운트
- [ ] Progress 탭으로 이동
- [ ] Heatmap에서 캘린더 이벤트가 있는 날짜가 표시되는지 확인
- [ ] 날짜 클릭 시 해당 날짜의 이벤트 수가 포함된 정보가 표시되는지 확인

---

## 5. 에러 처리 테스트

### 5.1 네트워크 에러
- [ ] 서버를 중지한 상태에서 앱 동작 확인
- [ ] 적절한 에러 메시지가 표시되는지 확인

### 5.2 토큰 만료
- [ ] 서버 DB에서 토큰 만료 시간을 과거로 변경
- [ ] 이벤트 조회 시 자동으로 토큰이 갱신되는지 확인

### 5.3 권한 취소
- [ ] Google 계정 설정에서 앱 권한 취소
- [ ] 앱에서 이벤트 조회 시 적절한 에러 처리되는지 확인

---

## 6. Deep Link 테스트

### 6.1 OAuth 콜백
- [ ] 브라우저에서 `scheduleai://oauth/callback?code=test` 링크 테스트
- [ ] Desktop 앱이 활성화되는지 확인

### 6.2 잘못된 콜백
- [ ] 에러 파라미터가 포함된 콜백 처리 확인
  - `scheduleai://oauth/callback?error=access_denied`
- [ ] 적절한 에러 메시지가 표시되는지 확인

---

## 7. 다중 캘린더 테스트

### 7.1 여러 캘린더 이벤트
- [ ] Google Calendar에서 여러 캘린더에 이벤트 생성
- [ ] 선택된 캘린더의 이벤트만 표시되는지 확인
- [ ] 캘린더 선택 변경 후 이벤트 목록이 업데이트되는지 확인

### 7.2 캘린더별 색상
- [ ] 서로 다른 캘린더의 이벤트가 해당 캘린더 색상으로 표시되는지 확인

---

## 8. 성능 테스트

### 8.1 대량 이벤트
- [ ] 많은 이벤트(20개 이상)가 있는 날짜에서 성능 확인
- [ ] 스크롤이 부드러운지 확인

### 8.2 날짜 변경
- [ ] 다른 날짜로 이동 시 이벤트가 빠르게 로드되는지 확인
- [ ] 캐싱이 동작하는지 확인 (같은 날짜 재방문 시)

---

## 테스트 결과 기록

| 카테고리 | 테스트 항목 | 결과 | 비고 |
|----------|-------------|------|------|
| OAuth | 연결 | | |
| OAuth | 해제 | | |
| 캘린더 | 목록 조회 | | |
| 캘린더 | 선택/해제 | | |
| 이벤트 | Today 표시 | | |
| 이벤트 | 상세 팝업 | | |
| Progress | Heatmap | | |
| 에러 | 네트워크 | | |
| Deep Link | OAuth 콜백 | | |

---

## 알려진 이슈

<!-- 테스트 중 발견된 이슈를 여기에 기록 -->

## 테스트 환경

- macOS 버전:
- Desktop 앱 버전:
- 서버 버전:
- 테스트 날짜:
- 테스터:
